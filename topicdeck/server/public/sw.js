!function(){"use strict";function unescape(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}const templateSettings={evaluate:/\{\{(([^\}]+|\\.)+)\}\}/g,interpolate:/\{\{=\s*([^\}]+)\}\}/g,stream:/\{\{~\s*([^\}]+)\}\}/g,conditional:/\{\{\?(\?)?\s*([^\}]*)?\}\}/g,node:"object"==typeof process,varname:"it"},compile=function(e,t,n){t=Object.assign({},templateSettings,t);e="var P=Promise.resolve.bind(Promise);function* f(p,a,b){yield p.then(v=>(a=v?a:b)&&'');yield* (a||(_=>[]))();};var s = function(x) { return x.then(stream => (stream.constructor.name === 'StreamReader') ? sNode : sWhatWg )};var sWhatWg=rW=>{\nrW=rW.then(l=>l.getReader());\nvar d=!1;\nreturn i={next:_=>({done:d,value:rW.then(rW=>rW.read()).then(v=>{d=v.done; return P(v.value)})}),[Symbol.iterator]:_=>i};\n};var sNode=rN=>{\nvar d=!1,l,b=[];\nrN.then(rN=>{\nrN.on('end',_=>{d=!0;l&&l()});\nrN.on('data',c=>(l&&(v=>{var t=l;l=null;t(v)})||(d=>b.push(d)))(c));\n});\nreturn i={next:_=>({done:b.length===0&&d,value:P(b.shift()||new Promise(rN=>l=rN))}),[Symbol.iterator]:_=>i};};var g=function*(){yield P('"+e.replace(/'|\\/g,"\\$&").replace(t.interpolate,function(e,t){return"');yield P("+unescape(t)+");yield P('"}).replace(t.conditional,function(e,t,n){return n&&!t?"');yield* f(P("+unescape(n)+"),function*(){yield P('":!n&&t?"')},function*(){yield P('":"')});yield P('"}).replace(t.stream,function(e,t){return"');yield* sWhatWg(P("+unescape(t)+"));yield P('"}).replace(t.evaluate,function(e,t){return"');"+unescape(t)+";yield P('"}).replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")+"');}();",t.node?e+="var r = new R({read:function f() {\nvar d=g.next();\nif(d.done) return r.push(null);\nP(d.value).then(v=>{if(v)return r.push(Buffer.from(v));else f()});\n}});\nreturn r;\n":e+='var e=new TextEncoder();\nreturn new ReadableStream({\npull: c=>{\nvar v=g.next();\nif(v.done)return c.close();\nv.value.then(d=>{\nif(typeof(d)=="string")d=e.encode(d);\nd&&c.enqueue(d);\n});\nreturn v.value;\n}});';try{if(t.noEval)return e;if(t.node){const n=new Function(t.varname,"R",e);return e=>n(e,require("stream").Readable)}return new Function(t.varname,e)}catch(t){throw console.log("Could not create a template function: "+e),t}},entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"};var nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),tagNamePattern=new RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_SPACE=2,S_EQ=3,S_ATTR_NOQUOT_VALUE=4,S_ATTR_END=5,S_TAG_SPACE=6,S_TAG_CLOSE=7;function XMLReader(){}function parse(e,t,n,r,a){function s(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function o(t){if(t>m){var n=e.substring(m,t).replace(/&#?\w+;/g,s);u&&i(m),r.characters(n,0,t-m),m=t}}function i(t,n){for(;t>=l&&(n=h.exec(e));)c=n.index,l=c+n[0].length,u.lineNumber++;u.columnNumber=t-c+1}for(var c=0,l=0,h=/.*(?:\r\n?|\n)|.*$/g,u=r.locator,d=[{currentNSMap:t}],p={},m=0;;){try{var f=e.indexOf("<",m);if(f<0){if(!e.substr(m).match(/^\s*$/)){var g=r.doc,E=g.createTextNode(e.substr(m));g.appendChild(E),r.currentElement=E}return}switch(f>m&&o(f),e.charAt(f+1)){case"/":var N=e.indexOf(">",f+3),_=e.substring(f+2,N),w=d.pop();N<0?(_=e.substring(f+2).replace(/[\s<].*/,""),a.error("end tag name: "+_+" is not complete:"+w.tagName),N=f+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),a.error("end tag name: "+_+" maybe not complete"),N=f+1+_.length);var v=w.localNSMap,T=w.tagName==_;if(T||w.tagName&&w.tagName.toLowerCase()==_.toLowerCase()){if(r.endElement(w.uri,w.localName,_),v)for(var y in v)r.endPrefixMapping(y);T||a.fatalError("end tag name: "+_+" is not match the current start tagName:"+w.tagName)}else d.push(w);N++;break;case"?":u&&i(f),N=parseInstruction(e,f,r);break;case"!":u&&i(f),N=parseDCC(e,f,r,a);break;default:u&&i(f);var b=new ElementAttributes,x=d[d.length-1].currentNSMap,C=(N=parseElementStartPart(e,f,b,x,s,a),b.length);if(!b.closed&&fixSelfClosed(e,N,b.tagName,p)&&(b.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),u&&C){for(var D=copyLocator(u,{}),R=0;R<C;R++){var S=b[R];i(S.offset),S.locator=copyLocator(u,{})}r.locator=D,appendElement(b,r,x)&&d.push(b),r.locator=u}else appendElement(b,r,x)&&d.push(b);"http://www.w3.org/1999/xhtml"!==b.uri||b.closed?N++:N=parseHtmlSpecialContent(e,N,b.tagName,s,r)}}catch(e){a.error("element parse error: "+e),N=-1}N>m?m=N:o(Math.max(f,m)+1)}}function copyLocator(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function parseElementStartPart(e,t,n,r,a,s){for(var o,i=++t,c=S_TAG;;){var l=e.charAt(i);switch(l){case"=":if(c===S_ATTR)o=e.slice(t,i),c=S_EQ;else{if(c!==S_ATTR_SPACE)throw new Error("attribute equal must after attrName");c=S_EQ}break;case"'":case'"':if(c===S_EQ||c===S_ATTR){if(c===S_ATTR&&(s.warning('attribute value must after "="'),o=e.slice(t,i)),t=i+1,!((i=e.indexOf(l,t))>0))throw new Error("attribute value no end '"+l+"' match");h=e.slice(t,i).replace(/&#?\w+;/g,a),n.add(o,h,t-1),c=S_ATTR_END}else{if(c!=S_ATTR_NOQUOT_VALUE)throw new Error('attribute value must after "="');h=e.slice(t,i).replace(/&#?\w+;/g,a),n.add(o,h,t),s.warning('attribute "'+o+'" missed start quot('+l+")!!"),t=i+1,c=S_ATTR_END}break;case"/":switch(c){case S_TAG:n.setTagName(e.slice(t,i));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:c=S_TAG_CLOSE,n.closed=!0;case S_ATTR_NOQUOT_VALUE:case S_ATTR:case S_ATTR_SPACE:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==S_TAG&&n.setTagName(e.slice(t,i)),i;case">":switch(c){case S_TAG:n.setTagName(e.slice(t,i));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:break;case S_ATTR_NOQUOT_VALUE:case S_ATTR:"/"===(h=e.slice(t,i)).slice(-1)&&(n.closed=!0,h=h.slice(0,-1));case S_ATTR_SPACE:c===S_ATTR_SPACE&&(h=o),c==S_ATTR_NOQUOT_VALUE?(s.warning('attribute "'+h+'" missed quot(")!!'),n.add(o,h.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===r[""]&&h.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),n.add(h,h,t));break;case S_EQ:throw new Error("attribute value missed!!")}return i;case"":l=" ";default:if(l<=" ")switch(c){case S_TAG:n.setTagName(e.slice(t,i)),c=S_TAG_SPACE;break;case S_ATTR:o=e.slice(t,i),c=S_ATTR_SPACE;break;case S_ATTR_NOQUOT_VALUE:var h=e.slice(t,i).replace(/&#?\w+;/g,a);s.warning('attribute "'+h+'" missed quot(")!!'),n.add(o,h,t);case S_ATTR_END:c=S_TAG_SPACE}else switch(c){case S_ATTR_SPACE:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&o.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),n.add(o,o,t),t=i,c=S_ATTR;break;case S_ATTR_END:s.warning('attribute space is required"'+o+'"!!');case S_TAG_SPACE:c=S_ATTR,t=i;break;case S_EQ:c=S_ATTR_NOQUOT_VALUE,t=i;break;case S_TAG_CLOSE:throw new Error("elements closed character '/' and '>' must be connected to")}}i++}}function appendElement(e,t,n){for(var r=e.tagName,a=null,s=e.length;s--;){var o=e[s],i=o.qName,c=o.value;if((d=i.indexOf(":"))>0)var l=o.prefix=i.slice(0,d),h=i.slice(d+1),u="xmlns"===l&&h;else h=i,l=null,u="xmlns"===i&&"";o.localName=h,!1!==u&&(null==a&&(a={},_copy(n,n={})),n[u]=a[u]=c,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(u,c))}for(s=e.length;s--;){(l=(o=e[s]).prefix)&&("xml"===l&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(o.uri=n[l||""]))}var d;(d=r.indexOf(":"))>0?(l=e.prefix=r.slice(0,d),h=e.localName=r.slice(d+1)):(l=null,h=e.localName=r);var p=e.uri=n[l||""];if(t.startElement(p,h,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(p,h,r),a)for(l in a)t.endPrefixMapping(l)}function parseHtmlSpecialContent(e,t,n,r,a){if(/^(?:script|textarea)$/i.test(n)){var s=e.indexOf("</"+n+">",t),o=e.substring(t+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(a.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,r),a.characters(o,0,o.length),s)}return t+1}function fixSelfClosed(e,t,n,r){var a=r[n];return null==a&&((a=e.lastIndexOf("</"+n+">"))<t&&(a=e.lastIndexOf("</"+n)),r[n]=a),a<t}function _copy(e,t){for(var n in e)t[n]=e[n]}function parseDCC(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(a=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,a-t-4),a+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var a=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,a-t-9),n.endCDATA(),a+3}var s=split(e,t),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var i=s[1][0],c=o>3&&/^public$/i.test(s[2][0])&&s[3][0],l=o>4&&s[4][0],h=s[o-1];return n.startDTD(i,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),h.index+h[0].length}}return-1}function parseInstruction(e,t,n){var r=e.indexOf("?>",t);if(r){var a=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(a){a[0].length;return n.processingInstruction(a[1],a[2]),r+2}return-1}return-1}function ElementAttributes(e){}function split(e,t){var n,r=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(a.lastIndex=t,a.exec(e);n=a.exec(e);)if(r.push(n),n[1])return r}function copy(e,t){for(var n in e)t[n]=e[n]}function _extends(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,copy(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}XMLReader.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),_copy(t,t={}),parse(e,t,n,r,this.errorHandler),r.endDocument()}},ElementAttributes.prototype={setTagName:function(e){if(!tagNamePattern.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!tagNamePattern.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={},INDEX_SIZE_ERR=ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),DOMSTRING_SIZE_ERR=ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3),WRONG_DOCUMENT_ERR=ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),INVALID_CHARACTER_ERR=ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),NO_DATA_ALLOWED_ERR=ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),NO_MODIFICATION_ALLOWED_ERR=ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7),NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8),NOT_SUPPORTED_ERR=ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9),INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10),INVALID_STATE_ERR=ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),SYNTAX_ERR=ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),INVALID_MODIFICATION_ERR=ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13),NAMESPACE_ERR=ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14),INVALID_ACCESS_ERR=ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);function DOMException(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,ExceptionMessage[e]),this.message=ExceptionMessage[e],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return n.code=e,t&&(this.message=this.message+": "+t),n}function NodeList(){}function LiveNodeList(e,t){this._node=e,this._refresh=t,_updateLiveList(this)}function _updateLiveList(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);__set__(e,"length",n.length),copy(n,e),e._inc=t}}function NamedNodeMap(){}function _findNodeIndex(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function _addNamedNode(e,t,n,r){if(r?t[_findNodeIndex(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var a=e.ownerDocument;a&&(r&&_onRemoveAttribute(a,e,r),_onAddAttribute(a,e,n))}}function _removeNamedNode(e,t,n){var r=_findNodeIndex(t,n);if(!(r>=0))throw DOMException(NOT_FOUND_ERR,new Error(e.tagName+"@"+n));for(var a=t.length-1;r<a;)t[r]=t[++r];if(t.length=a,e){var s=e.ownerDocument;s&&(_onRemoveAttribute(s,e,n),n.ownerElement=null)}}function DOMImplementation(e){if(this._features={},e)for(var t in e)this._features=e[t]}function Node(){}function _xmlEncoder(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function _visitNode(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(_visitNode(e,t))return!0}while(e=e.nextSibling)}function Document(){}function _onAddAttribute(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function _onRemoveAttribute(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function _onUpdateChild(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var a=t.firstChild,s=0;a;)r[s++]=a,a=a.nextSibling;r.length=s}}}function _removeChild(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,_onUpdateChild(e.ownerDocument,e),t}function _insertBefore(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===DOCUMENT_FRAGMENT_NODE){var a=t.firstChild;if(null==a)return t;var s=t.lastChild}else a=s=t;var o=n?n.previousSibling:e.lastChild;a.previousSibling=o,s.nextSibling=n,o?o.nextSibling=a:e.firstChild=a,null==n?e.lastChild=s:n.previousSibling=s;do{a.parentNode=e}while(a!==s&&(a=a.nextSibling));return _onUpdateChild(e.ownerDocument||e,e),t.nodeType==DOCUMENT_FRAGMENT_NODE&&(t.firstChild=t.lastChild=null),t}function _appendSingleChild(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);r=e.lastChild}r=e.lastChild;return t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,_onUpdateChild(e.ownerDocument,e,t),t}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function nodeSerializeToString(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,a=r.prefix,s=r.namespaceURI;if(s&&null==a&&null==(a=r.lookupPrefix(s)))var o=[{namespace:s,prefix:null}];return serializeToString(this,n,e,t,o),n.join("")}function needNamespaceDefine(e,t,n){var r=e.prefix||"",a=e.namespaceURI;if(!r&&!a)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===a||"http://www.w3.org/2000/xmlns/"==a)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix==r)return o.namespace!=a}return!0}function serializeToString(e,t,n,r,a){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case ELEMENT_NODE:a||(a=[]);a.length;var s=e.attributes,o=s.length,i=e.firstChild,c=e.tagName;n=htmlns===e.namespaceURI||n,t.push("<",c);for(var l=0;l<o;l++){"xmlns"==(h=s.item(l)).prefix?a.push({prefix:h.localName,namespace:h.value}):"xmlns"==h.nodeName&&a.push({prefix:"",namespace:h.value})}for(l=0;l<o;l++){var h;if(needNamespaceDefine(h=s.item(l),n,a)){var u=h.prefix||"",d=h.namespaceURI,p=u?" xmlns:"+u:" xmlns";t.push(p,'="',d,'"'),a.push({prefix:u,namespace:d})}serializeToString(h,t,n,r,a)}if(needNamespaceDefine(e,n,a)){u=e.prefix||"",d=e.namespaceURI,p=u?" xmlns:"+u:" xmlns";t.push(p,'="',d,'"'),a.push({prefix:u,namespace:d})}if(i||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;i;)i.data?t.push(i.data):serializeToString(i,t,n,r,a),i=i.nextSibling;else for(;i;)serializeToString(i,t,n,r,a),i=i.nextSibling;t.push("</",c,">")}else t.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(i=e.firstChild;i;)serializeToString(i,t,n,r,a),i=i.nextSibling;return;case ATTRIBUTE_NODE:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,_xmlEncoder),'"');case TEXT_NODE:return t.push(e.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return t.push("<![CDATA[",e.data,"]]>");case COMMENT_NODE:return t.push("\x3c!--",e.data,"--\x3e");case DOCUMENT_TYPE_NODE:var m=e.publicId,f=e.systemId;if(t.push("<!DOCTYPE ",e.name),m)t.push(' PUBLIC "',m),f&&"."!=f&&t.push('" "',f),t.push('">');else if(f&&"."!=f)t.push(' SYSTEM "',f,'">');else{var g=e.internalSubset;g&&t.push(" [",g,"]"),t.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return t.push("<?",e.target," ",e.data,"?>");case ENTITY_REFERENCE_NODE:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function importNode(e,t,n){var r;switch(t.nodeType){case ELEMENT_NODE:(r=t.cloneNode(!1)).ownerDocument=e;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var a=t.firstChild;a;)r.appendChild(importNode(e,a,n)),a=a.nextSibling;return r}function cloneNode(e,t,n){var r=new t.constructor;for(var a in t){var s=t[a];"object"!=typeof s&&s!=r[a]&&(r[a]=s)}switch(t.childNodes&&(r.childNodes=new NodeList),r.ownerDocument=e,r.nodeType){case ELEMENT_NODE:var o=t.attributes,i=r.attributes=new NamedNodeMap,c=o.length;i._ownerElement=r;for(var l=0;l<c;l++)r.setAttributeNode(cloneNode(e,o.item(l),!0));break;case ATTRIBUTE_NODE:n=!0}if(n)for(var h=t.firstChild;h;)r.appendChild(cloneNode(e,h,n)),h=h.nextSibling;return r}function __set__(e,t,n){e[t]=n}DOMException.prototype=Error.prototype,copy(ExceptionCode,DOMException),NodeList.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)serializeToString(this[r],n,e,t);return n.join("")}},LiveNodeList.prototype.item=function(e){return _updateLiveList(this),this[e]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);var n=this.getNamedItem(e.nodeName);return _addNamedNode(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return t=this.getNamedItemNS(e.namespaceURI,e.localName),_addNamedNode(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return _removeNamedNode(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return _removeNamedNode(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},DOMImplementation.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new Document;if(r.implementation=this,r.childNodes=new NodeList,r.doctype=n,n&&r.appendChild(n),t){var a=r.createElementNS(e,t);r.appendChild(a)}return r},createDocumentType:function(e,t,n){var r=new DocumentType;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return _insertBefore(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return _removeChild(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return cloneNode(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==TEXT_NODE&&e.nodeType==TEXT_NODE?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==ATTRIBUTE_NODE?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==ATTRIBUTE_NODE?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},copy(NodeType,Node),copy(NodeType,Node.prototype),Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==DOCUMENT_FRAGMENT_NODE){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==ELEMENT_NODE&&(this.documentElement=e),_insertBefore(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),_removeChild(this,e)},importNode:function(e,t){return importNode(this,e,t)},getElementById:function(e){var t=null;return _visitNode(this.documentElement,function(n){if(n.nodeType==ELEMENT_NODE&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new Element;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new NodeList,(t.attributes=new NamedNodeMap)._ownerElement=t,t},createDocumentFragment:function(){var e=new DocumentFragment;return e.ownerDocument=this,e.childNodes=new NodeList,e},createTextNode:function(e){var t=new Text;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Comment;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new CDATASection;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ProcessingInstruction;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new Attr;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new EntityReference;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new Element,r=t.split(":"),a=n.attributes=new NamedNodeMap;return n.childNodes=new NodeList,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,a._ownerElement=n,n},createAttributeNS:function(e,t){var n=new Attr,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},_extends(Document,Node),Element.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(e,null):_appendSingleChild(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new LiveNodeList(this,function(t){var n=[];return _visitNode(t,function(r){r===t||r.nodeType!=ELEMENT_NODE||"*"!==e&&r.tagName!=e||n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new LiveNodeList(this,function(n){var r=[];return _visitNode(n,function(a){a===n||a.nodeType!==ELEMENT_NODE||"*"!==e&&a.namespaceURI!==e||"*"!==t&&a.localName!=t||r.push(a)}),r})}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=ATTRIBUTE_NODE,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE,_extends(DocumentType,Node),Notation.prototype.nodeType=NOTATION_NODE,_extends(Notation,Node),Entity.prototype.nodeType=ENTITY_NODE,_extends(Entity,Node),EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE,_extends(ProcessingInstruction,Node),Node.prototype.toString=nodeSerializeToString;try{if(Object.defineProperty){function getTextContent(e){switch(e.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(getTextContent(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(e){switch(this.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),__set__=function(e,t,n){e["$$"+t]=n}}}catch(e){}function DOMParser(e){this.options=e||{locator:{}}}function buildErrorHandler(e,t,n){if(!e){if(t instanceof DOMHandler)return t;e=t}var r={},a=e instanceof Function;function s(t){var s=e[t];!s&&a&&(s=2==e.length?function(n){e(t,n)}:e),r[t]=s&&function(e){s("[xmldom "+t+"]\t"+e+_locator(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}function DOMHandler(){this.cdata=!1}function position(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function _locator(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function _toString(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function appendElement$1(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}DOMParser.prototype.parseFromString=function(e,t){var n=this.options,r=new XMLReader,a=n.domBuilder||new DOMHandler,s=n.errorHandler,o=n.locator,i=n.xmlns||{},c=/\/x?html?$/.test(t),l=c?entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return o&&a.setDocumentLocator(o),r.errorHandler=buildErrorHandler(s,a,o),r.domBuilder=n.domBuilder||a,c&&(i[""]="http://www.w3.org/1999/xhtml"),i.xml=i.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,i,l):r.errorHandler.error("invalid doc source"),a.doc},DOMHandler.prototype={startDocument:function(){this.doc=(new DOMImplementation).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var a=this.doc,s=a.createElementNS(e,n||t),o=r.length;appendElement$1(this,s),this.currentElement=s,this.locator&&position(this.locator,s);for(var i=0;i<o;i++){e=r.getURI(i);var c=r.getValue(i),l=(n=r.getQName(i),a.createAttributeNS(e,n));this.locator&&position(r.getLocator(i),l),l.value=l.nodeValue=c,s.setAttributeNode(l)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&position(this.locator,n),appendElement$1(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=_toString.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&position(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=_toString.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&position(this.locator,r),appendElement$1(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var a=r.createDocumentType(e,t,n);this.locator&&position(this.locator,a),appendElement$1(this,a)}},warning:function(e){console.warn("[xmldom warning]\t"+e,_locator(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,_locator(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,_locator(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){DOMHandler.prototype[e]=function(){return null}});const templatePath={};var loadTemplate=e=>e in templatePath?(console.log(`loading ${e} from cache`),templatePath[e].clone().body):caches$1.match(new Request$1(e)).then(t=>t||fetch$1(new Request$1(e))).then(t=>(templatePath[e]=t.clone(),t.body)),configCache={},loadData=e=>{if(e in configCache)return Promise.resolve(configCache[e].then(e=>e.clone()));const t=new Request$1(e),n=caches$1.open("data").then(n=>n.match(t.clone()).then(t=>{const r=fetch$1(e).then(t=>(n.put(e,t.clone()),t)).catch(e=>new Response$1("Not found.",{status:"404"}));return t||r}));return configCache[e]=n.then(e=>e.clone()),n};function compileTemplate(e){return console.log(`loading template ${e}`),loadTemplate(e).then(e=>streamToString(e)).then(e=>compile(e,{node:!1,evaluate:/\$\$(([^\$]+|\\.)+)\$\$/g}))}function streamToString(e){const t=e.getReader();let n,r,a=new Uint8Array;const s=new Promise((e,t)=>{n=e,r=t});return function e(){return t.read().then(({value:t,done:r})=>{if(r){const e=new TextDecoder;return n(e.decode(a))}let s=new Uint8Array(a.length+t.length);return s.set(a),s.set(t,a.length),a=s,e()},e=>r(e))}(),s}var fetch$1=eval("self.fetch"),WritableStream=eval("self.WritableStream"),ReadableStream=eval("self.ReadableStream"),Request$1=eval("self.Request"),Response$1=eval("self.Response"),caches$1=eval("self.caches");const parseUrl=e=>new URL(e.url).searchParams.get("url"),getProxyUrl=e=>e.url,getProxyHeaders=e=>({}),paths={assetPath:"/assets/",dataPath:"/data/"};let templates={};function getCompiledTemplate(e){return e in templates?Promise.resolve(templates[e]):compileTemplate$1(e).then(t=>templates[e]=t)}function generateCSPPolicy(e){return`default-src 'self'; script-src 'self' https://www.googletagmanager.com https://www.google-analytics.com 'nonce-script-${e.analytics}' 'unsafe-eval'; connect-src 'self'; img-src 'self' data: https://www.google-analytics.com; style-src 'self' 'nonce-style-${e.style}' 'nonce-style-${e.inlinedcss}';`}function generateIncrementalNonce(e){let t=0,n=Math.pow(10,3);return()=>{let r=n*+new Date;return t>=n?t=0:t++,(void 0!==e?e:"")+(r+t).toString()}}var ConcatStream=function(){let e;this.readable=new ReadableStream$1({start(t){e=t},abort(e){this.writable.abort(e)}}),this.writable=new WritableStream$1({write(t){e.enqueue(t)},close(){e.close()},abort(t){e.error(new Error(t))}})};const compileTemplate$1=compileTemplate,loadData$1=loadData,CommonDOMParser=DOMParser,ReadableStream$1=ReadableStream,WritableStream$1=WritableStream,fetch$2=fetch$1,Request$2=Request$1,Response$2=Response$1,caches$2=caches$1,parseUrl$1=parseUrl,getProxyUrl$1=getProxyUrl,getProxyHeaders$1=getProxyHeaders,paths$1=paths,findNode=(e,t)=>{let n;for(let r=0;r<t.length;r++)if((n=t[r]).tagName==e)return n},findNodes=(e,t)=>{const n=[];let r;for(let a=0;a<t.length;a++)(r=t[a]).tagName==e&&n.push(r);return n},hardSanitize=(e,t)=>{t=t||100;let n=!1;const r=[];for(let a of e){if(r.length>t)break;"<"!=a?">"!=a||1!=n?"\n"!=a&&"\r"!=a&&(n||r.push(a)):n=!1:n=!0}return r.join("")},findElementText=(e,t)=>{const n=findNodes(e,t.childNodes);return n&&n.length>0?n[0].textContent:""},findElementAttribute=(e,t,n)=>{const r=findNodes(e,n.childNodes);if(r&&r.length>0){const e=r[0].attributes.getNamedItem(t);return void 0!==e?e.value:""}return""},attributeEquals=(e,t)=>n=>{const r=n.attributes.getNamedItem(e);return r&&r.value===t},convertFeedItemsToJSON=e=>{if(void 0===e)return[];const t=(new CommonDOMParser).parseFromString(e,"application/xml").documentElement,n={};if(null===t)return[];if("rss"===t.nodeName){const e=findNode("channel",t.childNodes),r=findElementText("title",e),a=findElementText("link",e),s=findNodes("item",e.childNodes);return n.title=r,n.link=a,s.map(e=>convertRSSItemToJSON(e,n))}if("feed"===t.nodeName){const e=findNodes("entry",t.childNodes),r=findElementText("title",t),a="";findNodes("link",t).filter(attributeEquals("rel","self"))[0];return n.title=r,n.link=a,e.map(e=>convertAtomItemToJSON(e,n))}return[]},convertAtomItemToJSON=(e,t)=>{const n=findElementText("title",e),r=findElementText("summary",e),a=findElementText("id",e),s=findElementText("updated",e),o=findElementText("author",e)||findElementText("dc:creator",e)||t.title,i=findElementAttribute("link","href",e);return{title:hardSanitize(n,400),guid:a,description:hardSanitize(r,100),pubDate:s,author:o,link:i}},convertRSSItemToJSON=(e,t)=>{const n=findElementText("title",e),r=findElementText("description",e),a=findElementText("guid",e),s=findElementText("pubDate",e)||findElementText("a10:updated",e),o=findElementText("author",e)||findElementText("dc:creator",e)||t.title,i=findElementText("link",e),c=findElementText("content:encoded",e);return{title:hardSanitize(n,400),guid:a,description:hardSanitize(r,100),"content:encoded":hardSanitize(c,100),pubDate:s,author:o,link:i}},root=(e,t,n)=>{const r=loadData$1(`${t.dataPath}config.json`).then(e=>e.json()),a=new ConcatStream,s=fetchCachedFeedData(r,n.item,n.column),o={styles:n.columnsStyle.then(t=>r.then(n=>t({config:n,nonce:e}))),data:n.columns.then(e=>s.then(t=>e({columns:t}))),itemTemplate:n.item.then(e=>e({options:{includeAuthor:!1,new:!0},item:{}}))};return n.head.then(t=>t({config:r,streams:o,nonce:e})).then(e=>e.pipeTo(a.writable)),Promise.resolve(new Response$2(a.readable,{status:"200"}))},fetchCachedFeedData=(e,t,n)=>{const r=(e,t)=>e?e.match(new Request$2(t)).then(e=>e?e.text():void 0):Promise.resolve(),a={includeAuthor:!1},s=e=>t.then(t=>t({templateOptions:a,items:e}));return caches$2.open("data").then(t=>e.then(e=>((e,t)=>t.columns.map(n=>({config:n,data:r(e,`${t.origin}/proxy?url=${encodeURIComponent(n.feedUrl)}`).then(e=>convertFeedItemsToJSON(e))})))(t,e))).then(e=>e.map(e=>e.data.then(t=>({config:e.config,items:s(t)})))).then(e=>e.map(e=>n.then(t=>e.then(e=>{return t({column:e})}))))},handler=root,proxyHandler=(e,t)=>{const n=loadData$1(`${t.dataPath}config.json`).then(e=>e.json()),r=parseUrl$1(e);return n.then(t=>t.columns.map(e=>e.feedUrl).indexOf(r)<0&&0==r.endsWith("/all.rss")?new Response$2("Proxy feed not configured",{status:"401"}):caches$2.match(e).then(t=>{const n=getProxyUrl$1(e);return fetch$2(n,getProxyHeaders$1(e)).then(t=>{if(t.ok)return caches$2.open("data").then(n=>n?n.put(e,t.clone()):void 0).then(e=>t)})}).catch(e=>{throw console.log("Proxy Fetch Error",e),e}))},handler$1=proxyHandler,all=(e,t,n)=>{const r=loadData$1(`${t.dataPath}config.json`).then(e=>e.json()),a=new ConcatStream,s=fetchCachedFeedData$1(r,n.item),o={styles:n.allStyle.then(t=>r.then(n=>t({config:n,nonce:e}))),data:n.column.then(e=>r.then(t=>s.then(n=>e({column:{config:{feedUrl:t.feedUrl,name:t.content.allTitle},items:n}})))),itemTemplate:n.item.then(e=>e({options:{includeAuthor:!0,new:!0},item:{}}))};return n.head.then(t=>t({config:r,streams:o,nonce:e})).then(e=>e.pipeTo(a.writable)),Promise.resolve(new Response$2(a.readable,{status:"200"}))},fetchCachedFeedData$1=(e,t)=>{const n={includeAuthor:!0};return caches$2.open("data").then(t=>e.then(e=>((e,t)=>e?e.match(new Request$2(t)).then(e=>e?e.text():void 0):Promise.resolve())(t,`${e.origin}/proxy?url=${encodeURIComponent(e.feedUrl)}`))).then(e=>{return convertFeedItemsToJSON(e)}).then(e=>t.then(t=>t({options:n,items:e})))},handler$2=all;var WorkboxSW=function(){class e{constructor(e){this._errors=e}createError(e,t){if(!(e in this._errors))throw new Error(`Unable to generate error '${e}'.`);let n=this._errors[e].replace(/\s+/g," "),r=null;t&&(n+=` [${t.message}]`,r=t.stack);const a=new Error;return a.name=e,a.message=n,a.stack=r,a}}var t=new e({"not-in-sw":"workbox-sw must be loaded in your service worker file.","unsupported-route-type":"The first parameter to registerRoute() should be either an Express-style path string, a RegExp, or a function.","empty-express-string":"The Express style route string must have some characters, an empty string is invalid.","bad-revisioned-cache-list":"The 'precache()' method expectsan array of revisioned urls like so: ['/example/hello.1234.txt', {path: 'hello.txt', revision: '1234'}]","navigation-route-url-string":"The registerNavigationRoute() method expects a URL string as its first parameter.","bad-cache-id":"The 'cacheId' parameter must be a string with at least one character","bad-skip-waiting":"The 'skipWaiting' parameter must be a boolean.","bad-clients-claim":"The 'clientsClaim' parameter must be a boolean.","bad-directory-index":"The 'directoryIndex' parameter must be a boolean."});var n=new e({"express-route-invalid-path":"When using ExpressRoute, you must\n    provide a path that starts with a '/' character (to match same-origin\n    requests) or that starts with 'http' (to match cross-origin requests)"}),r={parse:()=>[]};function a(e){const t=Object.keys(e);t.some(t=>void 0!==e[t])||l("Please set at least one of the following parameters: "+t.map(e=>`'${e}'`).join(", "))}function s(e,t){const n=Object.keys(e).pop();e[n]instanceof t||l(`The '${n}' parameter must be an instance of\n      '${t.name}'`)}function o(e,t){const n=Object.keys(e).pop(),r=typeof e[n];r!==t&&l(`The '${n}' parameter has the wrong type. (Expected:\n      ${t}, actual: ${r})`)}function i(e,t){const n=Object.keys(e).pop(),r=`The '${n}' parameter should be an array containing\n    one or more '${t}' elements.`;Array.isArray(e[n])||l(r);for(let a of e[n])typeof a!==t&&l(r)}function c(e,t){const n=Object.keys(e).pop(),r=`The '${n}' parameter should be an array containing\n    one or more '${t.name}' instances.`;Array.isArray(e[n])||l(r);for(let a of e[n])a instanceof t||l(r)}function l(e){e=e.replace(/\s+/g," ");const t=new Error(e);t.name="assertion-failed";const n=r.parse(t);throw 3<=n.length&&(t.message=`Invalid call to ${n[2].functionName}() — `+e),t}function h(e){return"object"==typeof e?(function(e,t){const n=Object.keys(e).pop();"function"!=typeof e[n][t]&&l(`The '${n}' parameter must be an object that exposes a\n      '${t}' method.`)}({handler:e},"handle"),e):(o({handler:e},"function"),{handle:e})}const u="GET",d=["DELETE","GET","HEAD","POST","PUT"];class p{constructor({match:e,handler:t,method:n}={}){this.handler=h(t),o({match:e},"function"),this.match=e,n?(function(e,t){const n=Object.keys(e).pop();t.includes(e[n])||l(`The '${n}' parameter must be set to one of the\n      following: ${t}`)}({method:n},d),this.method=n):this.method=u}}var m=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},f=A,g=v,E=function(e,t){return b(v(e,t))},N=b,_=S,w=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function v(e,t){for(var n,r=[],a=0,s=0,o="",i=t&&t.delimiter||"/";null!=(n=w.exec(e));){var c=n[0],l=n[1],h=n.index;if(o+=e.slice(s,h),s=h+c.length,l)o+=l[1];else{var u=e[s],d=n[2],p=n[3],m=n[4],f=n[5],g=n[6],E=n[7];o&&(r.push(o),o="");var N=n[2]||i,_=m||f;r.push({name:p||a++,prefix:d||"",delimiter:N,optional:"?"===g||"*"===g,repeat:"+"===g||"*"===g,partial:null!=d&&null!=u&&u!==d,asterisk:!!E,pattern:_?C(_):E?".*":"[^"+x(N)+"]+?"})}}return s<e.length&&(o+=e.substr(s)),o&&r.push(o),r}function T(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function y(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function b(e){for(var t=Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var a,s="",o=n||{},i=(r||{}).pretty?T:encodeURIComponent,c=0;c<e.length;c++)if("string"!=typeof(a=e[c])){var l,h=o[a.name];if(null==h){if(a.optional){a.partial&&(s+=a.prefix);continue}throw new TypeError('Expected "'+a.name+'" to be defined')}if(m(h)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var u=0;u<h.length;u++){if(l=i(h[u]),!t[c].test(l))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received `'+JSON.stringify(l)+"`");s+=(0===u?a.prefix:a.delimiter)+l}}else{if(l=a.asterisk?y(h):i(h),!t[c].test(l))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+l+'"');s+=a.prefix+l}}else s+=a;return s}}function x(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function C(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function D(e,t){return e.keys=t,e}function R(e){return e.sensitive?"":"i"}function S(e,t,n){m(t)||(n=t||n,t=[]);for(var r,a=(n=n||{}).strict,s=!1!==n.end,o="",i=0;i<e.length;i++)if("string"==typeof(r=e[i]))o+=x(r);else{var c=x(r.prefix),l="(?:"+r.pattern+")";t.push(r),r.repeat&&(l+="(?:"+c+l+")*"),o+=l=r.optional?r.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}var h=x(n.delimiter||"/"),u=o.slice(-h.length)===h;return a||(o=(u?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=s?"$":a&&u?"":"(?="+h+"|$)",D(new RegExp("^"+o,R(n)),t)}function A(e,t,n){return m(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return D(e,t)}(e,t):m(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(A(e[a],t,n).source);return D(new RegExp("(?:"+r.join("|")+")",R(n)),t)}(e,t,n):function(e,t,n){return S(v(e,n),t,n)}(e,t,n)}f.parse=g,f.compile=E,f.tokensToFunction=N,f.tokensToRegExp=_;class O extends p{constructor({path:e,handler:t,method:r}){if(!e.startsWith("/")&&!e.startsWith("http"))throw n.createError("express-route-invalid-path");let a=[];const s=f(e,a);super({match:({url:t})=>{if(e.startsWith("/")&&t.origin!==location.origin)return null;const n=(e.startsWith("/")?t.pathname:t.href).match(s);if(!n)return null;const r={};return a.forEach((e,t)=>{r[e.name]=n[t+1]}),r},handler:t,method:r})}}class I{constructor(){this._logs=[],this._childGroups=[],this._isFallbackMode=!1;const e=/Firefox\/(\d*)\.\d*/.exec(navigator.userAgent);if(e)try{55>parseInt(e[1],10)&&(this._isFallbackMode=!0)}catch(e){this._isFallbackMode=!0}/Edge\/\d*\.\d*/.exec(navigator.userAgent)&&(this._isFallbackMode=!0)}addPrimaryLog(e){this._primaryLog=e}addLog(e){this._logs.push(e)}addChildGroup(e){0===e._logs.length||this._childGroups.push(e)}print(){return 0===this._logs.length&&0===this._childGroups.length?void this._printLogDetails(this._primaryLog):(this._primaryLog&&(this._isFallbackMode?this._printLogDetails(this._primaryLog):console.groupCollapsed(...this._getLogContent(this._primaryLog))),this._logs.forEach(e=>{this._printLogDetails(e)}),this._childGroups.forEach(e=>{e.print()}),void(this._primaryLog&&!this._isFallbackMode&&console.groupEnd()))}_printLogDetails(e){(e.logFunc?e.logFunc:console.log)(...this._getLogContent(e))}_getLogContent(e){let t=e.message;this._isFallbackMode&&"string"==typeof t&&(t=t.replace(/%c/g,""));let n=[t];return!this._isFallbackMode&&e.colors&&(n=n.concat(e.colors)),e.args&&(n=n.concat(e.args)),n}}function P(){return"ServiceWorkerGlobalScope"in self&&self instanceof ServiceWorkerGlobalScope}self.workbox=self.workbox||{},self.workbox.LOG_LEVEL=self.workbox.LOG_LEVEL||{none:-1,verbose:0,debug:1,warn:2,error:3};const M="#bdc3c7",L="#7f8c8d",U="#2ecc71",$="#f1c40f",q="#e74c3c",k="#3498db";var F=new class{constructor(){this._defaultLogLevel=self.workbox.LOG_LEVEL.warn}log(e){this._printMessage(self.workbox.LOG_LEVEL.verbose,e)}debug(e){this._printMessage(self.workbox.LOG_LEVEL.debug,e)}warn(e){this._printMessage(self.workbox.LOG_LEVEL.warn,e)}error(e){this._printMessage(self.workbox.LOG_LEVEL.error,e)}_printMessage(e,t){this._shouldLogMessage(e,t)&&this._getAllLogGroups(e,t).print()}_getAllLogGroups(e,t){const n=new I,r=this._getPrimaryMessageDetails(e,t);if(n.addPrimaryLog(r),t.error){const e={message:t.error,logFunc:console.error};n.addLog(e)}const a=new I;if(t.that&&t.that.constructor&&t.that.constructor.name){const e=t.that.constructor.name;a.addLog(this._getKeyValueDetails("class",e))}return t.data&&("object"!=typeof t.data||t.data instanceof Array?a.addLog(this._getKeyValueDetails("additionalData",t.data)):Object.keys(t.data).forEach(e=>{a.addLog(this._getKeyValueDetails(e,t.data[e]))})),n.addChildGroup(a),n}_getKeyValueDetails(e,t){return{message:`%c${e}: `,colors:[`color: ${k}`],args:t}}_getPrimaryMessageDetails(e,t){let n,r;e===self.workbox.LOG_LEVEL.verbose?(n="Info",r=M):e===self.workbox.LOG_LEVEL.debug?(n="Debug",r=U):e===self.workbox.LOG_LEVEL.warn?(n="Warn",r=$):e===self.workbox.LOG_LEVEL.error&&(n="Error",r=q);let a=`%c🔧 %c[${n}]`;const s=[`color: ${M}`,`color: ${r}`];let o;return"string"==typeof t?o=t:t.message&&(o=t.message),o&&(a+=`%c ${o=o.replace(/\s+/g," ")}`,s.push(`color: ${L}; font-weight: normal`)),{message:a,colors:s}}_shouldLogMessage(e,t){if(!t)return!1;let n=this._defaultLogLevel;return self&&self.workbox&&"number"==typeof self.workbox.logLevel&&(n=self.workbox.logLevel),!(n===self.workbox.LOG_LEVEL.none||e<n)}};class W extends p{constructor({whitelist:e,blacklist:t,handler:n}={}){c({whitelist:e},RegExp),t?c({blacklist:t},RegExp):t=[],super({match:({event:r,url:a})=>{let s,o=!1;if("navigate"===r.request.mode){const r=a.pathname+a.search;e.some(e=>e.test(r))?t.some(e=>e.test(r))?s="The navigation route is not being used, since the request URL matches both the whitelist and blacklist.":(s="The navigation route is being used.",o=!0):s="The navigation route is not being used, since the URL being navigated to doesn't match the whitelist.",F.debug({that:this,message:s,data:{"request-url":a.href,whitelist:e,blacklist:t,handler:n}})}return o},handler:n,method:"GET"})}}class j extends p{constructor({regExp:e,handler:t,method:n}){s({regExp:e},RegExp),super({match:({url:t})=>{const n=e.exec(t.href);return n?t.origin!==location.origin&&0!==n.index?(F.debug({that:this,message:"Skipping route, because the RegExp match didn't occur at the start of the URL.",data:{url:t.href,regExp:e}}),null):n.slice(1):null},handler:t,method:n})}}class B{constructor({handleFetch:e}={}){void 0===e&&(e=!0),this._routes=new Map,e&&this._addFetchListener()}_addFetchListener(){self.addEventListener("fetch",e=>{const t=new URL(e.request.url);if(!t.protocol.startsWith("http"))return void F.log({that:this,message:"URL does not start with HTTP and so not passing through the router.",data:{request:e.request}});let n,r;for(let a of this._routes.get(e.request.method)||[]){const s=a.match({url:t,event:e});if(s){r=a,F.log({that:this,message:"The router found a matching route.",data:{route:r,request:e.request}});let o=s;Array.isArray(o)&&0===o.length?o=void 0:o.constructor===Object&&0===Object.keys(o).length&&(o=void 0),n=a.handler.handle({url:t,event:e,params:o});break}}!n&&this.defaultHandler&&(n=this.defaultHandler.handle({url:t,event:e})),n&&this.catchHandler&&(n=n.catch(n=>this.catchHandler.handle({url:t,event:e,error:n}))),n&&e.respondWith(n.then(t=>(F.debug({that:this,message:"The router is managing a route with a response.",data:{route:r,request:e.request,response:t}}),t)))})}setDefaultHandler({handler:e}={}){this.defaultHandler=h(e)}setCatchHandler({handler:e}={}){this.catchHandler=h(e)}registerRoutes({routes:e}={}){c({routes:e},p);for(let t of e)this._routes.has(t.method)||this._routes.set(t.method,[]),this._routes.get(t.method).unshift(t)}registerRoute({route:e}={}){s({route:e},p),this.registerRoutes({routes:[e]})}unregisterRoutes({routes:e}={}){c({routes:e},p);for(let t of e){this._routes.has(t.method)||F.error({that:this,message:`Can't unregister route; there are no ${t.method}\n            routes registered.`,data:{route:t}});const e=this._routes.get(t.method).indexOf(t);-1<e?this._routes.get(t.method).splice(e,1):F.error({that:this,message:"Can't unregister route; the route wasn't previously\n            registered.",data:{route:t}})}}unregisterRoute({route:e}={}){s({route:e},p),this.unregisterRoutes({routes:[e]})}}class G extends B{constructor(e,t){super({handleFetch:t}),this._revisionedCacheName=e}registerRoute(e,n,r="GET"){let a;if("function"==typeof n&&(n={handle:n}),"string"==typeof e){if(0===e.length)throw t.createError("empty-express-string");a=new O({path:e,handler:n,method:r})}else if(e instanceof RegExp)a=new j({regExp:e,handler:n,method:r});else{if("function"!=typeof e)throw t.createError("unsupported-route-type");a=new p({match:e,handler:n,method:r})}return super.registerRoute({route:a}),a}registerNavigationRoute(e,n={}){if("string"!=typeof e)throw t.createError("navigation-route-url-string");const r="cacheName"in n?n.cacheName:this._revisionedCacheName;super.registerRoute({route:new W({handler:()=>caches.match(e,{cacheName:r}),whitelist:n.whitelist||[/./],blacklist:n.blacklist||[]})})}}var H=new e({"multiple-cache-will-update-plugins":"You cannot register more than one plugin that implements cacheWillUpdate.","multiple-cache-will-match-plugins":"You cannot register more than one plugin that implements cacheWillMatch.","invalid-response-for-caching":"The fetched response could not be cached due to an invalid response code.","no-response-received":"No response received; falling back to cache.","bad-cache-id":"The 'cacheId' parameter must be a string with at least one character."});class V{constructor({statuses:e,headers:t}={}){a({statuses:e,headers:t}),void 0!==e&&i({statuses:e},"number"),void 0!==t&&o({headers:t},"object"),this.statuses=e,this.headers=t}isResponseCacheable({request:e,response:t}={}){s({response:t},Response);let n=!0;if(this.statuses&&(n=this.statuses.includes(t.status)),this.headers&&n&&(n=Object.keys(this.headers).some(e=>t.headers.get(e)===this.headers[e])),!n){const n={response:t};this.statuses&&(n["valid-status-codes"]=JSON.stringify(this.statuses)),this.headers&&(n["valid-headers"]=JSON.stringify(this.headers)),e&&(n.request=e),F.debug({message:"The response does not meet the criteria for being added to the\n          cache.",data:n})}return n}}class z extends V{cacheWillUpdate({request:e,response:t}={}){return this.isResponseCacheable({request:e,response:t})}}const Y=({cacheId:e}={})=>{let t="workbox-runtime-caching";return e&&(t=`${e}-${t}`),self&&self.registration&&(t+=`-${self.registration.scope}`),t},K=["cacheDidUpdate","cacheWillMatch","cacheWillUpdate","fetchDidFail","requestWillFetch"];var Q=({response:e})=>{s({response:e},Response);const t=e.clone();return("body"in t?Promise.resolve(t.body):t.blob()).then(e=>new Response(e,{headers:t.headers,status:t.status,statusText:t.statusText}))};class X{constructor({cacheName:e,cacheId:t,plugins:n,fetchOptions:r,matchOptions:a}={}){if(t&&("string"!=typeof t||0===t.length))throw H.createError("bad-cache-id");e?(o({cacheName:e},"string"),this.cacheName=e,t&&(this.cacheName=`${t}-${this.cacheName}`)):this.cacheName=Y({cacheId:t}),r&&(o({fetchOptions:r},"object"),this.fetchOptions=r),a&&(o({matchOptions:a},"object"),this.matchOptions=a),this.plugins=new Map,n&&(i({plugins:n},"object"),n.forEach(e=>{for(let t of K)if("function"==typeof e[t]){if(this.plugins.has(t)){if("cacheWillUpdate"===t)throw H.createError("multiple-cache-will-update-plugins");if("cacheWillMatch"===t)throw H.createError("multiple-cache-will-match-plugins")}else this.plugins.set(t,[]);this.plugins.get(t).push(e)}})),this.plugins.has("cacheWillUpdate")&&(this._userSpecifiedCachableResponsePlugin=this.plugins.get("cacheWillUpdate")[0])}getDefaultCacheableResponsePlugin(){return this._defaultCacheableResponsePlugin||(this._defaultCacheableResponsePlugin=new z({statuses:[200]})),this._defaultCacheableResponsePlugin}async getCache(){return this._cache||(this._cache=await caches.open(this.cacheName)),this._cache}async match({request:e}){a({request:e});const t=await this.getCache();let n=await t.match(e,this.matchOptions);if(this.plugins.has("cacheWillMatch")){n=this.plugins.get("cacheWillMatch")[0].cacheWillMatch({request:e,cache:t,cachedResponse:n,matchOptions:this.matchOptions,cacheName:this.cacheName})}return n}async fetch({request:e}){"string"==typeof e?e=new Request(e):s({request:e},Request);const t=this.plugins.has("fetchDidFail")?e.clone():null;if(this.plugins.has("requestWillFetch"))for(let t of this.plugins.get("requestWillFetch")){const n=t.requestWillFetch({request:e});s({returnedPromise:n},Promise);const r=await n;s({returnedRequest:r},Request),e=r}try{return await fetch(e,this.fetchOptions)}catch(e){if(this.plugins.has("fetchDidFail"))for(let e of this.plugins.get("fetchDidFail"))e.fetchDidFail({request:t.clone()});throw e}}async fetchAndCache({request:e,waitOnCache:t,cacheKey:n,cacheResponsePlugin:r,cleanRedirects:s}){let o;a({request:e});const i=await this.fetch({request:e}),c=(this._userSpecifiedCachableResponsePlugin||r||this.getDefaultCacheableResponsePlugin()).cacheWillUpdate({request:e,response:i});if(c){const t=s&&i.redirected?await Q({response:i}):i.clone();o=this.getCache().then(async r=>{let a;const s=n||e;if("opaque"!==i.type&&this.plugins.has("cacheDidUpdate")&&(a=await this.match({request:s})),await r.put(s,t),this.plugins.has("cacheDidUpdate"))for(let e of this.plugins.get("cacheDidUpdate"))await e.cacheDidUpdate({cacheName:this.cacheName,oldResponse:a,newResponse:t,url:"url"in s?s.url:s})})}else if(!c&&t)throw H.createError("invalid-response-for-caching");return t&&o&&await o,i}}class J{constructor({requestWrapper:e,waitOnCache:t}={}){this.requestWrapper=e||new X,this.waitOnCache=!!t}handle({event:e,params:t}={}){throw Error("This abstract method must be implemented in a subclass.")}}class Z extends J{async handle({event:e}={}){return s({event:e},FetchEvent),await this.requestWrapper.match({request:e.request})||await this.requestWrapper.fetchAndCache({request:e.request,waitOnCache:this.waitOnCache})}}class ee extends J{async handle({event:e}={}){return s({event:e},FetchEvent),await this.requestWrapper.match({request:e.request})}}class te extends J{constructor(e={}){super(e),this._cacheablePlugin=new z({statuses:[0,200]});const{networkTimeoutSeconds:t}=e;t&&(o({networkTimeoutSeconds:t},"number"),this.networkTimeoutSeconds=t)}async handle({event:e}={}){s({event:e},FetchEvent);const t=[];let n;this.networkTimeoutSeconds&&t.push(new Promise(t=>{n=setTimeout(()=>{t(this.requestWrapper.match({request:e.request}))},1e3*this.networkTimeoutSeconds)}));const r=this.requestWrapper.fetchAndCache({request:e.request,waitOnCache:this.waitOnCache,cacheResponsePlugin:this._cacheablePlugin}).then(e=>(n&&clearTimeout(n),e||Promise.reject(H.createError("no-response-received")))).catch(()=>this.requestWrapper.match({request:e.request}));return t.push(r),Promise.race(t)}}class ne extends J{async handle({event:e}={}){return s({event:e},FetchEvent),await this.requestWrapper.fetch({request:e.request})}}class re extends J{constructor(e={}){super(e),this._cacheablePlugin=new z({statuses:[0,200]})}async handle({event:e}={}){s({event:e},FetchEvent);const t=this.requestWrapper.fetchAndCache({request:e.request,waitOnCache:this.waitOnCache,cacheResponsePlugin:this._cacheablePlugin}).catch(()=>Response.error());return await this.requestWrapper.match({request:e.request})||await t}}let ae="workbox-cache-expiration";self&&self.registration&&(ae+=`-${self.registration.scope}`);const se=ae,oe=1,ie="url",ce="timestamp";var le,he=(function(e){!function(){function t(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(e,n,r){var a,s=new Promise(function(s,o){t(a=e[n].apply(e,r)).then(s,o)});return s.request=a,s}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function a(e,t,r,a){a.forEach(function(a){a in r.prototype&&(e.prototype[a]=function(){return n(this[t],a,arguments)})})}function s(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function o(e,t,r,a){a.forEach(function(a){a in r.prototype&&(e.prototype[a]=function(){return function(e,t,r){var a=n(e,t,r);return a.then(function(e){return e?new c(e,a.request):void 0})}(this[t],a,arguments)})})}function i(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function l(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function u(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function d(e){this._db=e}r(i,"_index",["name","keyPath","multiEntry","unique"]),a(i,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),o(i,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[e].apply(n._cursor,r),t(n._request).then(function(e){return e?new c(e,n._request):void 0})})})}),l.prototype.createIndex=function(){return new i(this._store.createIndex.apply(this._store,arguments))},l.prototype.index=function(){return new i(this._store.index.apply(this._store,arguments))},r(l,"_store",["name","keyPath","indexNames","autoIncrement"]),a(l,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),o(l,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(l,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new l(this._tx.objectStore.apply(this._tx,arguments))},r(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),u.prototype.createObjectStore=function(){return new l(this._db.createObjectStore.apply(this._db,arguments))},r(u,"_db",["name","version","objectStoreNames"]),s(u,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},r(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[l,i].forEach(function(t){t.prototype[e.replace("open","iterate")]=function(){var t=function(e){return Array.prototype.slice.call(e)}(arguments),n=t[t.length-1],r=this._store||this._index,a=r[e].apply(r,t.slice(0,-1));a.onsuccess=function(){n(a.result)}}})}),[i,l].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(a){n.iterateCursor(e,function(e){return e?(r.push(e.value),void 0!==t&&r.length==t?void a(r):void e.continue()):void a(r)})})})});var p={open:function(e,t,r){var a=n(indexedDB,"open",[e,t]),s=a.request;return s.onupgradeneeded=function(e){r&&r(new u(s.result,e.oldVersion,s.transaction))},a.then(function(e){return new d(e)})},delete:function(e){return n(indexedDB,"deleteDatabase",[e])}};e.exports=p,e.exports.default=e.exports}()}(le={exports:{}},le.exports),le.exports);var ue=new e({"max-entries-or-age-required":"Either the maxEntries or maxAgeSeconds\n    parameters (or both) are required when constructing Plugin.","max-entries-must-be-number":"The maxEntries parameter to the Plugin\n    constructor must either be a number or undefined.","max-age-seconds-must-be-number":"The maxAgeSeconds parameter to the Plugin\n    constructor must either be a number or undefined."});class de{constructor({maxEntries:e,maxAgeSeconds:t}={}){if(!e&&!t)throw ue.createError("max-entries-or-age-required");if(e&&"number"!=typeof e)throw ue.createError("max-entries-must-be-number");if(t&&"number"!=typeof t)throw ue.createError("max-age-seconds-must-be-number");this.maxEntries=e,this.maxAgeSeconds=t,this._dbs=new Map,this._caches=new Map,this._expirationMutex=!1,this._timestampForNextRun=null}async getDB({cacheName:e}={}){o({cacheName:e},"string");const t=`${se}-${e}`;if(!this._dbs.has(t)){const n=await he.open(t,oe,t=>{t.createObjectStore(e,{keyPath:ie}).createIndex(ce,ce,{unique:!1})});this._dbs.set(t,n)}return this._dbs.get(t)}async getCache({cacheName:e}={}){if(o({cacheName:e},"string"),!this._caches.has(e)){const t=await caches.open(e);this._caches.set(e,t)}return this._caches.get(e)}isResponseFresh({cacheName:e,cachedResponse:t,now:n}={}){if(t&&this.maxAgeSeconds){s({cachedResponse:t},Response);const r=t.headers.get("date");if(r){void 0===n&&(n=Date.now());const e=new Date(r).getTime();return!!isNaN(e)||e+1e3*this.maxAgeSeconds>n}return this.expireEntries({cacheName:e,now:n}),!0}return!0}async updateTimestamp({cacheName:e,url:t,now:n}={}){o({url:t},"string"),o({cacheName:e},"string");const r=new URL(t,location);r.hash="",void 0===n&&(n=Date.now());const a=(await this.getDB({cacheName:e})).transaction(e,"readwrite");a.objectStore(e).put({[ce]:n,[ie]:r.href}),await a.complete}async expireEntries({cacheName:e,now:t}={}){if(this._expirationMutex)return void(this._timestampForNextRun=t);this._expirationMutex=!0,o({cacheName:e},"string"),void 0===t&&(t=Date.now());const n=this.maxAgeSeconds?await this.findOldEntries({cacheName:e,now:t}):[],r=this.maxEntries?await this.findExtraEntries({cacheName:e}):[],a=[...new Set(n.concat(r))];if(await this.deleteFromCacheAndIDB({cacheName:e,urls:a}),0<a.length&&F.debug({that:this,message:"Expired entries have been removed from the cache.",data:{cacheName:e,urls:a}}),this._expirationMutex=!1,this._timestampForNextRun){const t=this._timestampForNextRun;return this._timestampForNextRun=null,this.expireEntries({cacheName:e,now:t})}}async findOldEntries({cacheName:e,now:t}={}){o({cacheName:e},"string"),o({now:t},"number");const n=t-1e3*this.maxAgeSeconds,r=[],a=(await this.getDB({cacheName:e})).transaction(e,"readonly");return a.objectStore(e).index(ce).iterateCursor(e=>{e&&(e.value[ce]<n&&r.push(e.value[ie]),e.continue())}),await a.complete,r}async findExtraEntries({cacheName:e}={}){o({cacheName:e},"string");const t=[],n=await this.getDB({cacheName:e});let r=n.transaction(e,"readonly"),a=r.objectStore(e),s=a.index(ce);const i=await s.count();return i>this.maxEntries&&(s=(a=(r=n.transaction(e,"readonly")).objectStore(e)).index(ce)).iterateCursor(e=>{e&&(t.push(e.value[ie]),i-t.length>this.maxEntries&&e.continue())}),await r.complete,t}async deleteFromCacheAndIDB({cacheName:e,urls:t}={}){if(o({cacheName:e},"string"),i({urls:t},"string"),0<t.length){const n=await this.getCache({cacheName:e}),r=await this.getDB({cacheName:e});for(let a of t){await n.delete(a);const t=r.transaction(e,"readwrite");t.objectStore(e).delete(a),await t.complete}}}}class pe extends de{cacheWillMatch({cacheName:e,cachedResponse:t,now:n}={}){return this.isResponseFresh({cacheName:e,cachedResponse:t,now:n})?t:null}async cacheDidUpdate({cacheName:e,newResponse:t,url:n,now:r}={}){o({cacheName:e},"string"),s({newResponse:t},Response),void 0===r&&(r=Date.now()),await this.updateTimestamp({cacheName:e,url:n,now:r}),await this.expireEntries({cacheName:e,now:r})}}var me=new e({"channel-name-required":"The channelName parameter is required when\n    constructing a new BroadcastCacheUpdate instance.","responses-are-same-parameters-required":"The first, second, and\n    headersToCheck parameters must be valid when calling responsesAreSame()"});const fe="CACHE_UPDATED",ge=["content-length","etag","last-modified"],Ee="workbox-broadcast-cache-update";class Ne{constructor({channelName:e,headersToCheck:t,source:n}={}){if("string"!=typeof e||0===e.length)throw me.createError("channel-name-required");this.channelName=e,this.headersToCheck=t||ge,this.source=n||Ee}get channel(){return this._channel||(this._channel=new BroadcastChannel(this.channelName)),this._channel}notifyIfUpdated({first:e,second:t,cacheName:n,url:r}){o({cacheName:n},"string"),function({first:e,second:t,headersToCheck:n}={}){if(!(e instanceof Response&&t instanceof Response&&n instanceof Array))throw me.createError("responses-are-same-parameters-required");return n.some(n=>e.headers.has(n)&&t.headers.has(n))?n.every(n=>e.headers.has(n)===t.headers.has(n)&&e.headers.get(n)===t.headers.get(n)):(F.log({message:"Unable to determine whether the response has been updated\n        because none of the headers that would be checked are present.",data:{"First Response":e,"Second Response":t,"Headers To Check":JSON.stringify(n)}}),!0)}({first:e,second:t,headersToCheck:this.headersToCheck})||function({channel:e,cacheName:t,url:n,source:r}={}){s({channel:e},BroadcastChannel),o({cacheName:t},"string"),o({source:r},"string"),o({url:n},"string"),e.postMessage({type:fe,meta:r,payload:{cacheName:t,updatedUrl:n}})}({cacheName:n,url:r,channel:this.channel,source:this.source})}}class _e extends Ne{cacheDidUpdate({cacheName:e,oldResponse:t,newResponse:n,url:r}){o({cacheName:e},"string"),s({newResponse:n},Response),t&&this.notifyIfUpdated({cacheName:e,first:t,second:n,url:r})}}class we{constructor({cacheId:e}={}){this._cacheId=e}cacheFirst(e){return this._getCachingMechanism(Z,e)}cacheOnly(e){return this._getCachingMechanism(ee,e)}networkFirst(e){return this._getCachingMechanism(te,e)}networkOnly(e){return this._getCachingMechanism(ne,e)}staleWhileRevalidate(e){return this._getCachingMechanism(re,e)}_getCachingMechanism(e,t={}){const n={cacheExpiration:pe,broadcastCacheUpdate:_e,cacheableResponse:z},r={plugins:[]};return t.excludeCacheId||(r.cacheId=this._cacheId),t.cacheName&&(r.cacheName=t.cacheName),Object.keys(n).forEach(e=>{if(t[e]){const a=n[e],s=t[e];r.plugins.push(new a(s))}}),t.plugins&&t.plugins.forEach(e=>{r.plugins.push(e)}),t.requestWrapper=new X(r),new e(t)}}const ve=(e,t)=>{let n="An error was thrown by workbox with error code: "+`;'${e}'`;return t&&(n+=` with extras: '${JSON.stringify(t)}'`),n};class Te extends Error{constructor(e,t){super(),this.name=e,this.message=ve(e,t),t&&(this.extras=t)}}class ye{constructor({cacheName:e,cacheId:t,plugins:n}={}){if(t&&("string"!=typeof t||0===t.length))throw new Te("bad-cache-id",{cacheId:t});this._entriesToCache=new Map,this._requestWrapper=new X({cacheName:e,cacheId:t,plugins:n,fetchOptions:{credentials:"same-origin"}})}_addEntries(e){this._parsedCacheUrls=null,e.forEach(e=>{this._addEntryToInstallList(this._parseEntry(e))})}getCacheName(){return this._requestWrapper.cacheName}getCachedUrls(){return this._parsedCacheUrls||(this._parsedCacheUrls=Array.from(this._entriesToCache.keys()).map(e=>new URL(e,location).href)),this._parsedCacheUrls}_addEntryToInstallList(e){const t=e.entryID,n=this._entriesToCache.get(e.entryID);return n?void this._onDuplicateInstallEntryFound(e,n):void this._entriesToCache.set(t,e)}async install(){if(0===this._entriesToCache.size)return[];const e=[];return this._entriesToCache.forEach(t=>{e.push(this._cacheEntry(t))}),Promise.all(e)}async _cacheEntry(e){const t=await this._isAlreadyCached(e),n={url:e.request.url,revision:e.revision,wasUpdated:!t};if(t)return n;try{return await this._requestWrapper.fetchAndCache({request:e.getNetworkRequest(),waitOnCache:!0,cacheKey:e.request,cleanRedirects:!0}),await this._onEntryCached(e),n}catch(t){throw new Te("request-not-cached",{url:e.request.url,error:t})}}async cleanup(){if(!await caches.has(this.getCacheName()))return;const e=[];this._entriesToCache.forEach(t=>{e.push(t.request.url)});const t=await this._getCache(),n=(await t.keys()).filter(t=>!e.includes(t.url));return Promise.all(n.map(async e=>{await t.delete(e),await this._onEntryDeleted(e.url)}))}async _getCache(){return this._cache||(this._cache=await caches.open(this.getCacheName())),this._cache}_parseEntry(){throw new Te("requires-overriding")}_onDuplicateEntryFound(){throw new Te("requires-overriding")}_isAlreadyCached(){throw new Te("requires-overriding")}_onEntryCached(){throw new Te("requires-overriding")}_onEntryDeleted(){throw new Te("requires-overriding")}}class be{constructor(e,t,n){if(null==e||null==t||null==n)throw Error("name, version, storeName must be passed to the constructor.");this._name=e,this._version=t,this._storeName=n}_getDb(){return this._dbPromise?this._dbPromise:(this._dbPromise=he.open(this._name,this._version,e=>{e.createObjectStore(this._storeName)}).then(e=>e),this._dbPromise)}close(){return this._dbPromise?this._dbPromise.then(e=>{e.close(),this._dbPromise=null}):void 0}put(e,t){return this._getDb().then(n=>{const r=n.transaction(this._storeName,"readwrite");return r.objectStore(this._storeName).put(t,e),r.complete})}delete(e){return this._getDb().then(t=>{const n=t.transaction(this._storeName,"readwrite");return n.objectStore(this._storeName).delete(e),n.complete})}get(e){return this._getDb().then(t=>t.transaction(this._storeName).objectStore(this._storeName).get(e))}getAllValues(){return this._getDb().then(e=>e.transaction(this._storeName).objectStore(this._storeName).getAll())}getAllKeys(){return this._getDb().then(e=>e.transaction(this._storeName).objectStore(this._storeName).getAllKeys())}}const xe="_workbox-precaching",Ce="workbox-precaching",De="1",Re="asset-revisions";let Se="workbox-precaching-revisioned-v1";self&&self.registration&&(Se+=`-${self.registration.scope}`);const Ae=Se;class Oe{constructor(){this._idbHelper=new be(Ce,De,Re)}get(e){return this._idbHelper.get(e)}put(e,t){return this._idbHelper.put(e,t)}delete(e){return this._idbHelper.delete(e)}_close(){this._idbHelper.close()}}class Ie{constructor({entryID:e,revision:t,request:n,cacheBust:r}){this.entryID=e,this.revision=t,this.request=n,this.cacheBust=r}getNetworkRequest(){if(!0!==this.cacheBust)return this.request;let e=this.request.url;const t={};if(!0===this.cacheBust)if("cache"in Request.prototype)t.cache="reload";else{const t=new URL(e,location);t.search+=(t.search?"&":"")+encodeURIComponent(xe)+"="+encodeURIComponent(this.revision),e=t.toString()}return new Request(e,t)}}class Pe extends Ie{constructor(e){if(o({url:e},"string"),0===e.length)throw new Te("invalid-string-entry",{url:e});super({entryID:e,revision:e,request:new Request(e),cacheBust:!1})}}class Me extends Ie{constructor({entryID:e,revision:t,url:n,cacheBust:r}){if(void 0!==t&&(o({revision:t},"string"),0===t.length))throw new Te("invalid-object-entry",{problemParam:"revision",problemValue:t});if(void 0===r&&(r=!!t),o({cacheBust:r},"boolean"),o({url:n},"string"),0===n.length)throw new Te("invalid-object-entry",{problemParam:"url",problemValue:n});if(void 0===e)e=new URL(n,location).toString();else if(0===e.length)throw new Te("invalid-object-entry",{problemParam:"entryID",problemValue:e});super({entryID:e,revision:t||n,request:new Request(n),cacheBust:r})}}class Le extends ye{constructor(e={}){e.cacheName=e.cacheName||Ae,super(e),this._revisionDetailsModel=new Oe}addToCacheList({revisionedFiles:e}={}){s({revisionedFiles:e},Array),super._addEntries(e);const t=e.filter(e=>"string"==typeof e||!e.revision);0<t.length&&F.debug({that:this,message:"Some precache entries are URLs without separate revision\n          fields. If the URLs themselves do not contain revisioning info,\n          like a hash or a version number, your users won't receive updates.",data:{"URLs without revision fields":JSON.stringify(t),"Examples of safe, versioned URLs":"'/path/file.abcd1234.css' or '/v1.0.0/file.js'","Examples of dangerous, unversioned URLs":"'index.html' or '/path/file.css' or '/latest/file.js'"}})}_parseEntry(e){if(null===e)throw new Te("unexpected-precache-entry",{input:e});let t;switch(typeof e){case"string":t=new Pe(e);break;case"object":t=new Me(e);break;default:throw new Te("unexpected-precache-entry",{input:e})}return t}_onDuplicateInstallEntryFound(e,t){if(t.revision!==e.revision)throw new Te("duplicate-entry-diff-revisions",{firstEntry:{url:t.request.url,revision:t.revision},secondEntry:{url:e.request.url,revision:e.revision}})}async _isAlreadyCached(e){if(await this._revisionDetailsModel.get(e.entryID)!==e.revision)return!1;const t=await this._getCache();return!!await t.match(e.request)}async _onEntryCached(e){await this._revisionDetailsModel.put(e.entryID,e.revision)}async _onEntryDeleted(e){await this._revisionDetailsModel.delete(e)}_close(){this._revisionDetailsModel._close()}cleanup(){return super.cleanup().then(()=>this._close())}_createLogFriendlyString(e){let t="\n";return e.forEach(e=>{t+=`    URL: '${e.url}' Revision: `+`'${e.revision}'\n`}),t}install(){return super.install().then(e=>{const t=[],n=[];e.forEach(e=>{e.wasUpdated?t.push({url:e.url,revision:e.revision}):n.push({url:e.url,revision:e.revision})});const r={};return 0<t.length&&(r["New / Updated Precache URL's"]=this._createLogFriendlyString(t)),0<n.length&&(r["Up-to-date Precache URL's"]=this._createLogFriendlyString(n)),F.log({message:`Precache Details: ${t.length} requests `+"were added or updated and "+`${n.length} request are already `+"cached and up-to-date.",data:r}),e})}}if(!P())throw new Te("not-in-sw");return class{constructor({cacheId:e,skipWaiting:n,clientsClaim:r,handleFetch:a,directoryIndex:s="index.html",precacheChannelName:o="precache-updates",ignoreUrlParametersMatching:i=[/^utm_/]}={}){if(!P())throw t.createError("not-in-sw");if(e&&("string"!=typeof e||0===e.length))throw t.createError("bad-cache-id");if(n&&"boolean"!=typeof n)throw t.createError("bad-skip-waiting");if(r&&"boolean"!=typeof r)throw t.createError("bad-clients-claim");if(void 0!==s)if(!1===s||null===s)s=!1;else if("string"!=typeof s||0===s.length)throw t.createError("bad-directory-index");const c=[];o&&c.push(new _e({channelName:o,source:registration&&registration.scope?registration.scope:location})),this._runtimeCacheName=Y({cacheId:e}),this._revisionedCacheManager=new Le({cacheId:e,plugins:c}),this._strategies=new we({cacheId:e}),this._router=new G(this._revisionedCacheManager.getCacheName(),a),this._registerInstallActivateEvents(n,r),this._registerDefaultRoutes(i,s)}precache(e){if(!Array.isArray(e))throw t.createError("bad-revisioned-cache-list");this._revisionedCacheManager.addToCacheList({revisionedFiles:e})}get router(){return this._router}get strategies(){return this._strategies}get runtimeCacheName(){return this._runtimeCacheName}_registerInstallActivateEvents(e,t){self.addEventListener("install",t=>{const n=this._revisionedCacheManager.getCachedUrls();0<n.length&&F.debug({that:this,message:"The precached URLs will automatically be served using a\n            cache-first strategy.",data:{"Precached URLs":JSON.stringify(n)}}),t.waitUntil(this._revisionedCacheManager.install().then(()=>{if(e)return self.skipWaiting()}))}),self.addEventListener("activate",e=>{e.waitUntil(this._revisionedCacheManager.cleanup().then(()=>{if(t)return self.clients.claim()}))})}_registerDefaultRoutes(e,t){const n=[];(e||t)&&n.push(this._getCacheMatchPlugin(e,t));const r=this.strategies.cacheFirst({cacheName:this._revisionedCacheManager.getCacheName(),plugins:n,excludeCacheId:!0});this.router.registerRoute(({url:n})=>{n.hash="";const r=this._revisionedCacheManager.getCachedUrls();if(-1!==r.indexOf(n.href))return!0;let a=this._removeIgnoreUrlParams(n.href,e);return-1!==r.indexOf(a.href)||t&&a.pathname.endsWith("/")&&(n.pathname+=t,-1!==r.indexOf(n.href))},r)}_getCacheMatchPlugin(e,t){return{cacheWillMatch:async({request:n,cache:r,cachedResponse:a,matchOptions:s})=>{if(a)return a;let o=this._removeIgnoreUrlParams(n.url,e);return r.match(o.toString(),s).then(e=>!e&&o.pathname.endsWith("/")?(o.pathname+=t,r.match(o.toString(),s)):e)}}}_removeIgnoreUrlParams(e,t){const n=new URL(e),r=n.search.slice(1).split("&").map(e=>e.split("=")).filter(e=>t.every(t=>!t.test(e[0]))).map(e=>e.join("="));return n.search=r.join("&"),n}}}();const FetchRouter=function(){const e={get:[],post:[]};this.parseRoute=function(e){return this.parseGroups=function(e){for(var t=new RegExp(":([^/.\\\\]+)","g"),n=""+e,r={},a=null,s=0;a=t.exec(e);)r[a[1]]=s++,n=n.replace(a[0],"([^/.\\\\]+)");return{groups:r,regexp:new RegExp(n)}},this.parseGroups(e)};this.registerRoute=function(t,n,r,a){let s;n instanceof RegExp?s={regexp:n}:"string"==typeof n&&(s=this.parseRoute(n)),e[t].push({regex:s,callback:r,options:a||{}})},this.get=function(e,t,n){this.registerRoute("get",e,t,n)},this.post=function(e,t,n){this.registerRoute("get",e,t,n)},this.findRoute=function(t,n){return function(t,n){var r=null;const a=n.toLowerCase();if(a in e!=0)for(let n=0;r=e[a][n];n++){const e=r.options.urlMatchProperty,n=e in t?t[e]:t.toString(),a=r.regex.regexp.exec(n);if(0!=!!a){var s={};for(var o in r.regex.groups){var i=r.regex.groups[o];s[o]=a[i+1]}return r.params=s,r}}}(t,n)}},router=new FetchRouter;self.addEventListener("fetch",function(e){e.request;const t=new URL(e.request.url),n=e.request.method,r=router.findRoute(t,n);r&&r.callback(e,{params:r.params})});const workbox=new WorkboxSW({skipWaiting:!0,precacheChannelName:"install-cache-channel"});workbox.precache([{"url":"/assets/templates/all-styles.html","revision":"491301d56d29b7b9b952f1cc7e665a8e"},{"url":"/assets/templates/column.html","revision":"6f61103a74ca9c233b0f182f87fb986b"},{"url":"/assets/templates/columns-styles.html","revision":"e07b9f4a5771b6c87be69dd2b0c7ab87"},{"url":"/assets/templates/columns.html","revision":"1c5b1ade43ec866bc0453b9df1f4b41e"},{"url":"/assets/templates/head.html","revision":"84d2e9acd42dd85fd389da97c26595b6"},{"url":"/assets/templates/item.html","revision":"80d2570a5b61a1ef3e88c404dd15b6b5"},{"url":"/assets/templates/manifest.json","revision":"bca645c375a3a926f88bf8f9dd7ab292"},{"url":"/scripts/client.js","revision":"44efb34416afac647a08c669791cc5f3"},{"url":"/styles/main.css","revision":"3cc747b989d7df96ed0436f315872d8c"},{"url":"/humans.txt","revision":"99d5885b218217d3334cd156bd014d25"},{"url":"/sw.js","revision":"5c412ee398cc71fefea8b5e43424b112"}]);const templates$1={head:getCompiledTemplate(`${paths$1.assetPath}templates/head.html`),style:getCompiledTemplate(`${paths$1.assetPath}templates/columns-styles.html`),column:getCompiledTemplate(`${paths$1.assetPath}templates/column.html`),columns:getCompiledTemplate(`${paths$1.assetPath}templates/columns.html`),item:getCompiledTemplate(`${paths$1.assetPath}templates/item.html`),allStyle:getCompiledTemplate(`${paths$1.assetPath}templates/all-styles.html`),columnsStyle:getCompiledTemplate(`${paths$1.assetPath}templates/columns-styles.html`),manifest:getCompiledTemplate(`${paths$1.assetPath}templates/manifest.json`)},setHeader=(e,t,n)=>(e.headers.set(t,n),e),generator=generateIncrementalNonce("service-worker");router.get(`${self.location.origin}/proxy`,e=>{const t=handler$1(e.request,{dataPath:paths$1.dataPath,assetPath:paths$1.assetPath},templates$1);e.respondWith(t)},{urlMatchProperty:"href"}),router.get(`${self.location.origin}/all$`,e=>{const t={analytics:generator(),inlinedcss:generator(),style:generator()},n=handler$2(t,{dataPath:paths$1.dataPath,assetPath:paths$1.assetPath},templates$1).then(e=>setHeader(e,"Content-Security-Policy",generateCSPPolicy(t))).then(e=>setHeader(e,"Content-Type","text/html"));e.respondWith(n)},{urlMatchProperty:"href"}),router.get(`${self.location.origin}/$`,e=>{const t={analytics:generator(),inlinedcss:generator(),style:generator()},n=handler(t,{dataPath:paths$1.dataPath,assetPath:paths$1.assetPath},templates$1).then(e=>setHeader(e,"Content-Security-Policy",generateCSPPolicy(t))).then(e=>setHeader(e,"Content-Type","text/html"));e.respondWith(n)},{urlMatchProperty:"href"})}();
